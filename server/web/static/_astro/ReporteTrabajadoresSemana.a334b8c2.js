import{a as $,c as x,l as y,e as l,g as h,S as m,b as k,i as b,h as T,j as C,t as p,k as E}from"./web.7c46431d.js";import{d as F,e as M,S as N}from"./Spinner.5c5b1b77.js";import{T as j}from"./Table.d357bf8b.js";const i=new Date;new Date(i.getFullYear(),0,1);const c=i.getDay(),u=new Date,D=new Date,J=i.getDate()-u.getDate()+1;u.setDate(c<4?i.getDate()-c-3:i.getDate()-c+4);D.setDate(c<4?i.getDate()-c+3:i.getDate()-c+10);function S(e,t){let n=[],s=new Date(e.getTime());for(let r=s;r<=t;r.setDate(r.getDate()+1)){const o=r.toUTCString().split(" ");n.push(`${o[1]} ${o[2]}`)}return n}const f={0:"J",1:"V",2:"S",3:"D",4:"L",5:"M",6:"m"};function L(){const e=S(u,D);let t=[];for(let n=0;n<e.length;n++)t.push(`${f[n]} - ${e[n].split(" ")[0]}`);return t}function O(e,t){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]={id:e[s].idTrabajador,nombres:`${e[s].Nombres} ${e[s].APaterno}`.toUpperCase(),J:t,V:t,S:t,D:t,L:t,M:t,m:t};return n}function R(e,t,n){const s={};for(let r=0;r<e.length;r++)s[e[r].id]=r;for(const r in n){const o=n[r];for(let d=0;d<o.length;d++){const g=new Date(o[d]).toUTCString().split(" "),_=`${g[1]} ${g[2]}`,w=f[t.indexOf(_)];w!==void 0&&(e[s[r]][w]=!0)}}for(let r=0;r<e.length;r++)for(let o=J;o<7;o++)e[r][f[o]]=null;console.log(e)}const U=p("<span>"),V=p('<div class="flex flex-row items-center gap-4 text-xl font-bold"><!#><!/><p>Cargando información...'),A=p("<div>Error");function a(e,t){return Object.values(f).indexOf(e)===-1?t:t===null?[]:(()=>{const n=h(U);return E(n,`inline-flex w-full h-full font-bold justify-center items-center text-lg ${t?"bg-green-300":"bg-red-300"}`),b(n,t?"✔️":"✖️"),n})()}const z={J:a,V:a,S:a,D:a,L:a,M:a,m:a},P=S(u,D);function G(){const[e]=$(F),[t]=$(M),[n,s]=x(null);y(()=>{if(t.state==="ready"&&e.state==="ready"){const o=O(t(),!1);R(o,P,e()),s(o)}});const r=["Nombres",...L()];return l(C,{get fallback(){return h(A)},get children(){return[l(m,{get when(){return e.loading||t.loading},get children(){const o=h(V),d=o.firstChild,[g,_]=k(d.nextSibling);return g.nextSibling,b(o,l(N,{size:"lg"}),g,_),o}}),l(m,{get when(){return e.error||t.error},children:"Error de carga!"}),l(m,{get when(){return T(()=>typeof n()<"u")()&&n()!==null},get children(){return l(j,{get data(){return n()},titles:r,col_conditions:z,ignore_cols:["id"]})}})]}})}export{G as default};
